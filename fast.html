<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <div>
    <iframe style="display: none"></iframe>
    <style>
     #native_ad_id {
        display: none;
        font-size: 14px;
        height: 450px;
        line-height: 16px;
        position: relative;
        width: 600px;
      }
      .thirdPartyMediaClass {
        height: 300px;
        width: 400px;
      }
      .thirdPartyTitleClass {
        font-weight: 600;
        font-size: 16px;
        margin: 8px 0 4px 0;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      .thirdPartyBodyClass {
        display: -webkit-box;
        height: 32px;
        -webkit-line-clamp: 2;
        overflow: hidden;
      }
      .thirdPartyCallToActionClass {
        color: #326891;
        font-family: sans-serif;
        font-weight: 600;
        margin-top: 8px;
      }
    </style>
    <script>
      var getTime = function() {
        return Date.now();
      };

      var now = getTime();
      var data = {
        placementid: '97972641212_10153177743496213',
        format: 'native',
        testmode: false,
        url: window.location.href,
        width: screen.width,
        height: screen.height,
        pixel_ratio: window.devicePixelRatio,
      };
      var onAdLoaded = function(placementId) {
        document.getElementById('native_ad_id').style.display = 'block';
      };
      var onAdError = function(errorCode, errorMessage, placementId) {
      };
      ///////////////////////////////////////////////////////
      var currentScript = document.currentScript || (function() {
        var scripts = document.getElementsByTagName('script');
        return scripts[scripts.length - 1];
      })();
      var rootElement = currentScript.parentElement;
      rootElement.dataset.placementid = data.placementid;
      // create iframe
      var getReferrer = function(w) {
        try {
          return w.document.referrer;
        } catch (e) {}
        return '';
      };
      var extractDomain = function(url) {
        var index = url.indexOf('/', url.indexOf('://') + 3);
        if (index === -1) {
          return url;
        }
        return url.substring(0, index);
      };
      var urls = [window.location.href];
      if (window !== window.parent) {
        this._ancestorUrls = [];
        var prevWindow;
        var currentWindow = window;
        while (currentWindow !== prevWindow) {
          var url;
          try {
            url = currentWindow.location.href;
          } catch (e) {}
          urls.push(url || getReferrer(prevWindow));
          prevWindow = currentWindow;
          currentWindow = currentWindow.parent;
        }
      }
      var origins = window.location.ancestorOrigins;
      if (origins) {
        if  (origins.length > 0) {
          data.topdomain = origins[origins.length - 1];
        } else {
          data.topdomain = extractDomain(urls[urls.length - 1]);
        }
      }
      data.topurl = urls[urls.length - 1];
      data.channel = extractDomain(urls[0]);
      data.screenwidth = screen.width;
      data.screenheight = screen.height;
      data.pixelratio = window.devicePixelRatio;
      var obj = {};
      obj.iframe = rootElement.firstElementChild;
      var iframeSrc = 'https://www.tonypan.sb.facebook.com/audiencenetwork/web/?sdk=5.3.web';
      for (var key in data) {
        iframeSrc += '&' + key + '=' + encodeURIComponent(data[key]);
      }
      obj.iframe.src = iframeSrc;
      obj.placementId = data.placementid;
      obj.displayFormat = data.format;
      obj.onAdLoaded = onAdLoaded;
      obj.onAdError = onAdError;
      obj.tagJsInitTime = now;
      obj.rootElement = rootElement;

      // listen for events
      obj.events = [];
      window.addEventListener('message', function(event) {
        event.data.receivedTimestamp = getTime();
        if (this.sdkEventHandler) {
          this.sdkEventHandler(event.data);
        } else {
          this.events.push(event.data);
        }
      }.bind(obj), false);
      obj.tagJsIframeAppendedTime = getTime();

      window.ADNW = window.ADNW || {};
      window.ADNW.Ads = window.ADNW.Ads || [];
      window.ADNW.Ads.push(obj);
      window.ADNW.init && window.ADNW.init(obj);
    </script>
    <script async src="https://www.tonypan.sb.facebook.com/assets.php/en_US/fbadnw.js" type="text/javascript">
    </script>
    <div id="native_ad_id">
      <a class="fbAdLink">
      <div class="fbAdMedia thirdPartyMediaClass"></div>
      <div class="fbAdTitle thirdPartyTitleClass"></div>
      <div class="fbAdBody thirdPartyBodyClass"></div>
      <div class="fbAdCallToAction thirdPartyCallToActionClass"></div></a>
    </div>
  </div>
</body>
</html>